<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <!-- <script src="./js/main.js" type="text/javascript"></script> -->
  <link rel="stylesheet" href="./css/style.css">
</head>

<body>
  <canvas width="300" height="300" id="canvas"></canvas>
  <script> 
    var canvas = document.getElementById('canvas');
    
    
    function getSize() {
      var pageWidth = document.documentElement.clientWidth        //获得屏幕页面的宽高  ie还不支持
      var pageHeight = document.documentElement.clientHeight

      canvas.width = pageWidth
      canvas.height = pageHeight
    }

    getSize()  
    //如果屏幕大小改变  就重新获取屏幕尺寸
    window.onresize = function () {  
      getSize()
    }

    var context = canvas.getContext('2d');

    var painting = false
    //画圆
    function drawCircle(x, y, radius) {
      context.beginPath()
      context.fillStyle = 'black'
      context.arc(x, y, radius, 0, Math.PI * 2)
      context.fill()
      console.log(context.fillstyle)
    }
    //画线
    function drawLine(x1, y1, x2, y2) {
      context.beginPath()
      context.moveTo(x1, y1)     //起点
      context.lineWidth = 5
      context.strokeStyle = 'black'
      context.lineTo(x2, y2)     //终点
      context.stroke()
      context.closePath()
    }

    var lastPoint = { x: undefined, y: undefined }
    canvas.onmousedown = function (a) {
      painting = true
      var x = a.clientX
      var y = a.clientY
      lastPoint = { x: x, y: y }
      drawCircle(x, y, 2)
    }
    canvas.onmousemove = function (b) {
      if (painting) {
        var x = b.clientX
        var y = b.clientY
        var newPoint = { x: x, y: y }
        drawCircle(x, y, 2)
        drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y)
        lastPoint = newPoint
      }

    }
    canvas.onmouseup = function (c) {
      painting = false
    }
    // context.fillRect(10, 20, 20, 50);      
    // var div = document.getElementById('canvas')
    // var painting = false
    // div.onmousedown = function(a){
    //   painting = true
    //   var x = a.clientX
    //   var y = a.clientY
    //   var diva = document.createElement('div')
    //   diva.style = "width:6px; height:6px;"+"background:green;border-radius:3px;"+
    //   "position:absolute;left:"+(x-11)+"px;"+"top:"+(y-11)+"px;"
    //   div.appendChild(diva)
    //   console.log(a)
    // }
    // div.onmousemove = function(b){
    //   if(painting){
    //     var x = b.clientX
    //     var y = b.clientY
    //     var diva = document.createElement('div')
    //     diva.style = "width:6px; height:6px;"+"background:green;border-radius:3px;"+
    //     "position:absolute;left:"+(x-11)+"px;"+"top:"+(y-11)+"px;"
    //     div.appendChild(diva)
    //     console.log(b)
    //   }else{}

    // }
    // div.onmouseup = function(c){
    //   painting = false
    // }
  </script>
</body>

</html>